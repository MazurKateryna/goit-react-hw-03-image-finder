{"version":3,"sources":["services/imagesAPI.js","components/Searchbar/Searchbar.js","components/Gallery/ImageGallery.js","components/Button/Button.js","components/Loader.js","components/Notification.js","components/Modal/Modal.js","components/App.js","index.js"],"names":["searchQuery","page","axios","get","then","response","data","hits","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","placeholder","onChange","Component","ImageGallery","images","onClick","map","image","largeImageURL","src","webformatURL","alt","id","Button","onButtonLoad","Loader","viewBox","height","width","backgroundColor","cx","cy","r","metadata","name","github","description","filename","Notification","message","Modal","closeByEsc","code","onClose","window","addEventListener","removeEventListener","App","loading","error","showModal","fetchImages","imagesApi","prevState","catch","finally","handleSearchFormSubmit","query","toggleModal","closeModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8958e914.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\r\n  return axios\r\n  .get(`https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=18874151-a59734316416ca9832deb4716&image_type=photo&orientation=horizontal&per_page=12`)\r\n  .then(response => response.data.hits)\r\n};\r\n\r\nexport default {\r\n  fetchImagesWithQuery,\r\n};","import React, { Component } from 'react';\r\nimport \"./Searchbar.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    inputValue: ''\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value })\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({inputValue: ''});\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n  \r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n  \r\n}\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport './Gallery.css';\r\n\r\nexport default function ImageGallery ({ images, onClick }) {\r\n return (\r\n  <ul className=\"ImageGallery\">\r\n    {images.map(image => (\r\n      <li key={image.id} onClick={() => onClick(image.largeImageURL)}>\r\n        <img src={image.webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\r\n      </li>\r\n    ))}\r\n  </ul>\r\n )\r\n}","import React from 'react';\r\nimport './Button.css'\r\n\r\nexport default function Button ({ onButtonLoad }) {\r\n  return (\r\n    <button type='button' className='Button' onClick={onButtonLoad}>Load more</button>\r\n  )\r\n}","import React from 'react'\r\nimport ContentLoader from 'react-content-loader'\r\n\r\nconst Loader = props => (\r\n  <ContentLoader\r\n    viewBox=\"0 0 400 160\"\r\n    height={160}\r\n    width={400}\r\n    backgroundColor=\"#2a2ea2\"\r\n    {...props}\r\n  >\r\n    <circle cx=\"150\" cy=\"86\" r=\"8\" />\r\n    <circle cx=\"194\" cy=\"86\" r=\"8\" />\r\n    <circle cx=\"238\" cy=\"86\" r=\"8\" />\r\n  </ContentLoader>\r\n)\r\n\r\nLoader.metadata = {\r\n  name: 'RioF',\r\n  github: 'clariokids',\r\n  description: 'Three Dots',\r\n  filename: 'ThreeDots',\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\n\r\nexport default function Notification(message) {\r\n  return <div>{message}</div>;\r\n}","import React, { Component  } from \"react\";\r\nimport './Modal.css';\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeByEsc);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.closeByEsc);\r\n  }\r\n\r\n  closeByEsc = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.props.onClose}>\r\n        <div className=\"Modal\">\r\n        <img src={this.props.largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component  } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport imagesApi from \"../services/imagesAPI\"\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\nimport ImageGallery from \"./Gallery/ImageGallery\";\r\nimport Button from \"./Button/Button\";\r\nimport Loader from './Loader';\r\nimport Notification from './Notification';\r\nimport Modal from './Modal/Modal';\r\n\r\nclass App extends Component {\r\n  static propTypes= {\r\n    images: PropTypes.array,\r\n    loading: PropTypes.bool,\r\n    error: PropTypes.string,\r\n    searchQuery: PropTypes.string,\r\n    page: PropTypes.number,\r\n    showModal: PropTypes.bool,\r\n    largeImageUrl: PropTypes.string\r\n  }\r\n\r\n  state = {\r\n    images: [],\r\n    loading: false,\r\n    error: null,\r\n    searchQuery: '',\r\n    page: 1,\r\n    showModal: false,\r\n    largeImageURL: null,\r\n  };\r\n\r\n  componentDidUpdate (prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n\r\n    if(prevQuery !== nextQuery) {\r\n      this.fetchImages();\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const {searchQuery, page} = this.state;\r\n    this.setState({ loading: true });\r\n\r\n    imagesApi\r\n      .fetchImagesWithQuery(searchQuery, page)\r\n      .then(images => this.setState(prevState => ({ \r\n        images: [...prevState.images, ...images], \r\n        page: prevState.page + 1,\r\n      })))\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handleSearchFormSubmit = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      page: 1,\r\n      images: [],\r\n    });\r\n  };\r\n\r\n  toggleModal = largeImageURL => {\r\n    this.setState(state => ({\r\n      showModal: !state.showModal,\r\n      largeImageURL: largeImageURL,\r\n    }));\r\n  };\r\n\r\n  closeModal = e => {\r\n    this.setState(prevState => ({\r\n      showModal: !prevState.showModal,\r\n      largeImageURL: null,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { images, loading, error, showModal, largeImageURL } = this.state;\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.handleSearchFormSubmit}/>\r\n        {error && (\r\n          <Notification message={`Whoops, something went wrong: ${error.message}`} />\r\n        )} \r\n        {images.length > 0 && (\r\n          <ImageGallery images={images} onClick={this.toggleModal} />\r\n        )}\r\n        {showModal && <Modal largeImageURL={largeImageURL} onClose={this.closeModal} />}\r\n        {loading && <Loader />}\r\n        {images.length > 0 && !loading && (\r\n          <Button onButtonLoad={this.fetchImages}/>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}